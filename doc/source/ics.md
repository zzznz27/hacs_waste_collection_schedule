# ICS / iCal

Add support for schedules from ICS / iCal files. Files can be either stored in a  local folder or fetched from a static URL. The waste type will be taken from the `summary` attribute.

This source has been successfully tested with the following service providers:

<!--Begin of service section-->
### Australia

- [Moreton Bay](/doc/ics/moretonbay_qld_gov_au.md) / moretonbay.qld.gov.au

### Austria

- [Abfallwirtschaft der Stadt St. Pölten](/doc/ics/st-poelten_at.md) / st-poelten.at/sonstiges/17653-abfallkalender
- [Afritz am See](/doc/ics/muellapp_com.md) / muellapp.com
- [Alpbach](/doc/ics/muellapp_com.md) / muellapp.com
- [Althofen](/doc/ics/muellapp_com.md) / muellapp.com
- [Angath](/doc/ics/muellapp_com.md) / muellapp.com
- [Arnoldstein](/doc/ics/muellapp_com.md) / muellapp.com
- [Aschau im Zillertal](/doc/ics/muellapp_com.md) / muellapp.com
- [Bad Häring](/doc/ics/muellapp_com.md) / muellapp.com
- [Bad Kleinkirchheim](/doc/ics/muellapp_com.md) / muellapp.com
- [Baldramsdorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Berg im Drautal](/doc/ics/muellapp_com.md) / muellapp.com
- [Berndorf bei Salzburg](/doc/ics/muellapp_com.md) / muellapp.com
- [Brandenberg](/doc/ics/muellapp_com.md) / muellapp.com
- [Breitenbach am Inn](/doc/ics/muellapp_com.md) / muellapp.com
- [Dellach](/doc/ics/muellapp_com.md) / muellapp.com
- [Dellach im Drautal](/doc/ics/muellapp_com.md) / muellapp.com
- [Ebenthal in Kärnten](/doc/ics/muellapp_com.md) / muellapp.com
- [Eugendorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Feistritz im Rosental](/doc/ics/muellapp_com.md) / muellapp.com
- [Feldkirchen in Kärnten](/doc/ics/muellapp_com.md) / muellapp.com
- [Ferlach](/doc/ics/muellapp_com.md) / muellapp.com
- [Ferndorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Finkenstein am Faaker See](/doc/ics/muellapp_com.md) / muellapp.com
- [Frauenstein](/doc/ics/muellapp_com.md) / muellapp.com
- [Gitschtal](/doc/ics/muellapp_com.md) / muellapp.com
- [Globasnitz](/doc/ics/muellapp_com.md) / muellapp.com
- [Gmünd in Kärnten](/doc/ics/muellapp_com.md) / muellapp.com
- [Grafenstein](/doc/ics/muellapp_com.md) / muellapp.com
- [Greifenburg](/doc/ics/muellapp_com.md) / muellapp.com
- [Großkirchheim](/doc/ics/muellapp_com.md) / muellapp.com
- [Guttaring](/doc/ics/muellapp_com.md) / muellapp.com
- [Heiligenblut am Großglockner](/doc/ics/muellapp_com.md) / muellapp.com
- [Henndorf am Wallersee](/doc/ics/muellapp_com.md) / muellapp.com
- [Hermagor-Pressegger See](/doc/ics/muellapp_com.md) / muellapp.com
- [Hopfgarten im Brixental](/doc/ics/muellapp_com.md) / muellapp.com
- [Irschen](/doc/ics/muellapp_com.md) / muellapp.com
- [Keutschach am See](/doc/ics/muellapp_com.md) / muellapp.com
- [Kirchbach](/doc/ics/muellapp_com.md) / muellapp.com
- [Kirchbichl](/doc/ics/muellapp_com.md) / muellapp.com
- [Kirchdorf in Tirol](/doc/ics/muellapp_com.md) / muellapp.com
- [Klagenfurt am Wörthersee](/doc/ics/muellapp_com.md) / muellapp.com
- [Kleblach-Lind](/doc/ics/muellapp_com.md) / muellapp.com
- [Krems in Kärnten](/doc/ics/muellapp_com.md) / muellapp.com
- [Krumpendorf am Wörthersee](/doc/ics/muellapp_com.md) / muellapp.com
- [Kundl](/doc/ics/muellapp_com.md) / muellapp.com
- [Kössen](/doc/ics/muellapp_com.md) / muellapp.com
- [Köstendorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Kötschach-Mauthen](/doc/ics/muellapp_com.md) / muellapp.com
- [Köttmannsdorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Lendorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Leoben](/doc/ics/muellapp_com.md) / muellapp.com
- [Lesachtal](/doc/ics/muellapp_com.md) / muellapp.com
- [Linz AG](/doc/ics/linzag_at.md) / linzag.at
- [Ludmannsdorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Lurnfeld](/doc/ics/muellapp_com.md) / muellapp.com
- [Magdalensberg](/doc/ics/muellapp_com.md) / muellapp.com
- [Mallnitz](/doc/ics/muellapp_com.md) / muellapp.com
- [Malta](/doc/ics/muellapp_com.md) / muellapp.com
- [Maria Rain](/doc/ics/muellapp_com.md) / muellapp.com
- [Maria Saal](/doc/ics/muellapp_com.md) / muellapp.com
- [Maria Wörth](/doc/ics/muellapp_com.md) / muellapp.com
- [Mattsee](/doc/ics/muellapp_com.md) / muellapp.com
- [Millstatt](/doc/ics/muellapp_com.md) / muellapp.com
- [Moosburg](/doc/ics/muellapp_com.md) / muellapp.com
- [Mörtschach](/doc/ics/muellapp_com.md) / muellapp.com
- [Mühldorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Müll App](/doc/ics/muellapp_com.md) / muellapp.com
- [Münster](/doc/ics/muellapp_com.md) / muellapp.com
- [Neumarkt am Wallersee](/doc/ics/muellapp_com.md) / muellapp.com
- [Oberdrauburg](/doc/ics/muellapp_com.md) / muellapp.com
- [Oberndorf in Tirol](/doc/ics/muellapp_com.md) / muellapp.com
- [Obertrum am See](/doc/ics/muellapp_com.md) / muellapp.com
- [Ottobrunn](/doc/ics/muellapp_com.md) / muellapp.com
- [Paternion](/doc/ics/muellapp_com.md) / muellapp.com
- [Poggersdorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Pörtschach am Wörther See](/doc/ics/muellapp_com.md) / muellapp.com
- [Radenthein](/doc/ics/muellapp_com.md) / muellapp.com
- [Radfeld](/doc/ics/muellapp_com.md) / muellapp.com
- [Ramsau im Zillertal](/doc/ics/muellapp_com.md) / muellapp.com
- [Rangersdorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Reichenfels](/doc/ics/muellapp_com.md) / muellapp.com
- [Reith im Alpbachtal](/doc/ics/muellapp_com.md) / muellapp.com
- [Reißeck](/doc/ics/muellapp_com.md) / muellapp.com
- [Rennweg am Katschberg](/doc/ics/muellapp_com.md) / muellapp.com
- [Sachsenburg](/doc/ics/muellapp_com.md) / muellapp.com
- [Schiefling am Wörthersee](/doc/ics/muellapp_com.md) / muellapp.com
- [Schleedorf](/doc/ics/muellapp_com.md) / muellapp.com
- [Schwaz](/doc/ics/muellapp_com.md) / muellapp.com
- [Schwoich](/doc/ics/muellapp_com.md) / muellapp.com
- [Seeboden](/doc/ics/muellapp_com.md) / muellapp.com
- [Seeham](/doc/ics/muellapp_com.md) / muellapp.com
- [Seekirchen am Wallersee](/doc/ics/muellapp_com.md) / muellapp.com
- [Spittal an der Drau](/doc/ics/muellapp_com.md) / muellapp.com
- [St. Andrä](/doc/ics/muellapp_com.md) / muellapp.com
- [St. Jakob im Rosental](/doc/ics/muellapp_com.md) / muellapp.com
- [St. Johann in Tirol](/doc/ics/muellapp_com.md) / muellapp.com
- [St. Margareten im Rosental](/doc/ics/muellapp_com.md) / muellapp.com
- [St. Symvaro](/doc/ics/muellapp_com.md) / muellapp.com
- [Stadtgemeinde Traiskirchen](/doc/ics/traiskirchen_gv_at.md) / traiskirchen.gv.at
- [Stall](/doc/ics/muellapp_com.md) / muellapp.com
- [Steinfeld](/doc/ics/muellapp_com.md) / muellapp.com
- [Stockenboi](/doc/ics/muellapp_com.md) / muellapp.com
- [Strass im Zillertal](/doc/ics/muellapp_com.md) / muellapp.com
- [Straßwalchen](/doc/ics/muellapp_com.md) / muellapp.com
- [Söll](/doc/ics/muellapp_com.md) / muellapp.com
- [Techelsberg am Wörther See](/doc/ics/muellapp_com.md) / muellapp.com
- [Trebesing](/doc/ics/muellapp_com.md) / muellapp.com
- [Treffen am Ossiacher See](/doc/ics/muellapp_com.md) / muellapp.com
- [Umweltv](/doc/ics/abfallv_zerowaste_io.md) / abfallv.zerowaste.io
- [Velden am Wörther See](/doc/ics/muellapp_com.md) / muellapp.com
- [Villach](/doc/ics/muellapp_com.md) / muellapp.com
- [Völkermarkt](/doc/ics/muellapp_com.md) / muellapp.com
- [Wattens](/doc/ics/muellapp_com.md) / muellapp.com
- [Weißensee](/doc/ics/muellapp_com.md) / muellapp.com
- [Winklern](/doc/ics/muellapp_com.md) / muellapp.com
- [Wolfsberg](/doc/ics/muellapp_com.md) / muellapp.com
- [Zell](/doc/ics/muellapp_com.md) / muellapp.com
- [Zell am Ziller](/doc/ics/muellapp_com.md) / muellapp.com
- [Zellberg](/doc/ics/muellapp_com.md) / muellapp.com

### Belgium

- [Limburg.net](/doc/ics/limburg_net.md) / limburg.net

### Canada

- [Calgary, AB](/doc/ics/recollect.md) / calgary.ca
- [City of Edmonton, AB](/doc/ics/recollect.md) / edmonton.ca
- [City of Greater Sudbury, ON](/doc/ics/recollect.md) / greatersudbury.ca
- [City of Nanaimo](/doc/ics/recollect.md) / nanaimo.ca
- [City of Peterborough, ON](/doc/ics/recollect.md) / peterborough.ca
- [City of Vancouver](/doc/ics/recollect.md) / vancouver.ca
- [Ottawa, Canada](/doc/ics/recollect.md) / ottawa.ca
- [RM of Morris, MB](/doc/ics/recollect.md) / mwmenviro.ca
- [Strathcona County, ON](/doc/ics/recollect.md) / strathcona.ca
- [Waste Wise APPS](/doc/ics/recollect.md) / edmonton.ca

### Denmark

- [Kredsløb](/doc/ics/kredslob_dk.md) / kredslob.dk

### Germany

- [Aballwirtschaft Ludwigslust-Parchim AöR](/doc/ics/alp_lup_de.md) / alp-lup.de
- [Abfall App](/doc/ics/abfall_app_net.md) / abfall-app.net
- [Abfall IO ICS Version](/doc/ics/abfall_io_ics.md) / abfallplus.de
- [Abfallentsorgung Kreis Kassel](/doc/ics/abfall_kreis_kassel_de.md) / abfall-kreis-kassel.de
- [Abfallwirtschaft Dithmarschen (AWD)](/doc/ics/awd_online_de.md) / awd-online.de
- [Abfallwirtschaft Enzkreis](/doc/ics/entsorgung_regional_de.md) / entsorgung-regional.de
- [Abfallwirtschaft Freiburg](/doc/ics/abfallwirtschaft_freiburg_de.md) / abfall-eglz.de
- [Abfallwirtschaft Kreis Plön](/doc/ics/kreis_ploen_de.md) / kreis-ploen.de
- [Abfallwirtschaft Landkreis Böblingen](/doc/ics/abfall_io_ics.md) / awb-bb.de
- [Abfallwirtschaft Landkreis Göppingen](/doc/ics/abfall_io_ics.md) / awb-gp.de
- [Abfallwirtschaft Landkreis Haßberge](/doc/ics/awhas_de.md) / awhas.de
- [Abfallwirtschaft Potsdam-Mittelmark (APM)](/doc/ics/apm_de.md) / apm-niemegk.de
- [Abfallwirtschaft Sonneberg](/doc/ics/abfallwirtschaft_sonneberg_de.md) / abfallwirtschaft-sonneberg.de
- [Abfallwirtschaftsbetrieb des Landkreises Pfaffenhofen a.d.Ilm (AWP)](/doc/ics/awp_landkreis_pfaffenhofen.md) / awp-paf.de
- [Abfallwirtschaftsbetrieb Ilm-Kreis](/doc/ics/ilm_kreis_de.md) / ilm-kreis.de
- [Abfallwirtschaftsbetrieb Landkreis Karlsruhe](/doc/ics/awb_landkreis_karlsruhe_de.md) / awb-landkreis-karlsruhe.de
- [Abfallwirtschaftsbetrieb Unstrut-Hainich-Kreis](/doc/ics/abfallwirtschaft_uhk_de.md) / abfallwirtschaft-uhk.de
- [Abfallwirtschaftsgesellschaft Landkreis Schaumburg](/doc/ics/aws_shg_de.md) / aws-shg.de
- [ALBA Braunschweig](/doc/ics/alba_bs_de.md) / alba-bs.de
- [Altmarkkreis Salzwedel](/doc/ics/abfall_app_net.md) / altmarkkreis-salzwedel.de
- [ART Trier](/doc/ics/art_trier_de.md) / art-trier.de
- [AVL - Abfallverwertungsgesellschaft des Landkreises Ludwigsburg mbH](/doc/ics/avl_ludwigsburg_de.md) / avl-ludwigsburg.de
- [AWG Bassum](/doc/ics/awg_bassum_de.md) / awg-bassum.de
- [Awista Starnberg](/doc/ics/awista_starnberg_de.md) / awista-starnberg.de
- [AZV Stadt und Landkreis Hof](/doc/ics/azv_hof_de.md) / azv-hof.de
- [Bamberg (Stadt und Landkreis)](/doc/ics/abfalltermine_bamberg_de.md) / abfalltermine-bamberg.de
- [Bau- und Entsorgungsbetrieb Emden](/doc/ics/bee_emden_de.md) / bee-emden.de
- [Blaue Tonne - Schlaue Tonne](/doc/ics/blauetonne_schlauetonne_de.md) / blauetonne-schlauetonne.de
- [Cham Landkreis](/doc/ics/entsorgung_cham_de.md) / entsorgung-cham.de
- [ebwo - Entsorgungs- und Baubetrieb Anstalt des öffentlichen Rechts der Stadt Worms](/doc/ics/worms_de.md) / worms.de/de/web/ebwo
- [EDG Entsorgung Dortmund](/doc/ics/edg_de.md) / edg.de
- [EKM Mittelsachsen GmbH](/doc/ics/ekm_mittelsachsen_de.md) / ekm-mittelsachsen.de
- [Entsorgungsbetrieb Märkisch-Oderland](/doc/ics/entsorgungsbetrieb_mol_de.md) / entsorgungsbetrieb-mol.de
- [Entsorgungsgesellschaft Görlitz-Löbau-Zittau](/doc/ics/abfall_eglz_de.md) / abfall-eglz.de
- [Erfstadt (inoffical)](/doc/ics/abfallkalender_erftstadt_de.md) / abfallkalender-erftstadt.de
- [ESG Soest - Entsorgungswirtschaft Soest GmbH](/doc/ics/esg_soest_de.md) / esg-soest.de
- [EVA Abfallentsorgung](/doc/ics/eva_abfallentsorgung_de.md) / eva-abfallentsorgung.de
- [FES Frankfurter Entsorgungs- und Service GmbH](/doc/ics/fes_frankfurt_de.md) / fes-frankfurt.de
- [Gelber Sack Stuttgart](/doc/ics/gelbersack_stuttgart_de.md) / gelbersack-stuttgart.de
- [Gelsendienste Gelsenkirchen](/doc/ics/gelsendienste_de.md) / gelsendienste.de
- [Gipsprojekt](/doc/ics/gipsprojekt_de.md) / gipsprojekt.de
- [Hallesche Wasser und Stadtwirtschaft GmbH](/doc/ics/hws_halle_de.md) / hws-halle.de
- [Heidelberg](/doc/ics/gipsprojekt_de.md) / heidelberg.de
- [Heinz-Entsorgung (Landkreis Freising)](/doc/ics/heinz_entsorgung_de.md) / heinz-entsorgung.de
- [Herten (durth-roos.de)](/doc/ics/herten_de.md) / herten.de
- [Kreis Steinburg](/doc/ics/steinburg_de.md) / steinburg.de
- [Kreisstadt Groß-Gerau](/doc/ics/gross_gerau_de.md) / gross-gerau.de
- [Landkreis Anhalt-Bitterfeld](/doc/ics/abikw_de.md) / abikw.de
- [Landkreis Böblingen](/doc/ics/abfall_app_net.md) / lrabb.de
- [Landkreis Hameln-Pyrmont](/doc/ics/hameln_pyrmont_de.md) / hameln-pyrmont.de
- [Landkreis Heidenheim](/doc/ics/abfall_hdh_de.md) / abfall-hdh.de
- [Landkreis Lüchow-Dannenberg](/doc/ics/abfall_app_net.md) / luechow-dannenberg.de
- [Landkreis Northeim (unofficial)](/doc/ics/nerdbridge_de.md) / abfall.nerdbridge.de
- [Landkreis Peine](/doc/ics/ab_peine_de.md) / ab-peine.de
- [Landkreis soest](/doc/ics/abfall_app_net.md) / kreis-soest.de
- [Landkreis Stade](/doc/ics/landkreis_stade_de.md) / landkreis-stade.de
- [Landkreis Stendal](/doc/ics/abfall_app_net.md) / landkreis-stendal.de
- [Landkreis Vogtland](/doc/ics/vogtlandkreis_de.md) / vogtlandkreis.de
- [Landratsamt Bodenseekreis](/doc/ics/bodenseekreis_de.md) / bodenseekreis.de
- [Lebacher Abfallzweckverband (LAZ)](/doc/ics/lebach_de.md) / lebach.de
- [LK Schwandorf](/doc/ics/entsorgung_sad_de.md) / entsorgung-sad.de
- [Lübeck Entsorgungsbetriebe](/doc/ics/luebeck_de.md) / luebeck.de
- [Mein-Abfallkalender.de](/doc/ics/mein_abfallkalender_de.md) / mein-abfallkalender.de
- [Neu Ulm](/doc/ics/neu_ulm_de.md) / neu-ulm.de
- [Oberhavel AWU](/doc/ics/awu_oberhavel_de.md) / awu-oberhavel.de
- [Rhein-Pfalz-Kreis](/doc/ics/abfall_app_net.md) / rhein-pfalz-kreis.de
- [Stadt Detmold](/doc/ics/detmold_de.md) / detmold.de
- [Stadt Koblenz](/doc/ics/koblenz_de.md) / koblenz.de
- [Stadt Mainhausen](/doc/ics/stadt_mainhausen_de.md) / mainhausen.de
- [Stadt Osnabrück](/doc/ics/osnabrueck_de.md) / osnabrueck.de
- [Stadtbetrieb Frechen](/doc/ics/stadtbetrieb_frechen_de.md) / stadtbetrieb-frechen.de
- [Stadtentsorgung Rostock](/doc/ics/stadtentsorgung_rostock_de.md) / stadtentsorgung-rostock.de
- [Stadtreinigung Leipzig](/doc/ics/stadtreinigung_leipzig_de.md) / stadtreinigung-leipzig.de
- [Stadtwerke Hürth](/doc/ics/stadtwerke_huerth_de.md) / stadtwerke-huerth.de
- [SWK Herford](/doc/ics/swk_herford_de.md) / swk.herford.de
- [Technischer Betriebsdienst Reutlingen](/doc/ics/tbr_reutlingen_de.md) / tbr-reutlingen.de
- [ULM (EBU)](/doc/ics/ebu_ulm_de.md) / ebu-ulm.de
- [ZAH Hildesheim](/doc/ics/zah_hildesheim_de.md) / zah-hildesheim.de
- [ZfA Iserlohn](/doc/ics/zfa_iserlohn_de.md) / zfa-iserlohn.de
- [Zollernalbkreis](/doc/ics/abfall_io_ics.md) / zollernalbkreis.de
- [Zweckverband Abfallwirtschaft Oberes Elbtal](/doc/ics/zaoe_de.md) / zaoe.de
- [Zweckverband Abfallwirtschaft Südwestsachsen (ZAS)](/doc/ics/za_sws_de.md) / za-sws.de

### Italy

- [Contarina S.p.A](/doc/ics/contarina_it.md) / contarina.it

### Netherlands

- [Ôffalkalinder van Noardeast-Fryslân & Dantumadiel](/doc/ics/offalkalinder_nl.md) / offalkalinder.nl

### Norway

- [Trondheim](/doc/ics/trv_no.md) / trv.no

### Switzerland

- [Canton of Zürich](/doc/ics/openerz_metaodi_ch.md) / openerz.metaodi.ch
- [Münsingen BE, Switzerland](/doc/ics/muensingen_ch.md) / muensingen.ch

### United Kingdom

- [Anglesey](/doc/ics/anglesey_gov_wales.md) / anglesey.gov.wales
- [Falkirk](/doc/ics/falkirk_gov_uk.md) / falkirk.gov.uk
- [Gedling Borough Council (unofficial)](/doc/ics/gedling_gov_uk.md) / gbcbincalendars.co.uk
- [Westmorland & Furness Council, Barrow area](/doc/ics/barrowbc_gov_uk.md) / barrowbc.gov.uk
- [Westmorland & Furness Council, South Lakeland area](/doc/ics/southlakeland_gov_uk.md) / southlakeland.gov.uk

### United States of America

- [City of Austin, TX](/doc/ics/recollect.md) / austintexas.gov
- [City of Bloomington](/doc/ics/recollect.md) / bloomington.in.gov
- [City of Cambridge](/doc/ics/recollect.md) / cambridgema.gov
- [City of Gastonia, NC](/doc/ics/recollect.md) / gastonianc.gov
- [City of Georgetown, TX](/doc/ics/recollect.md) / texasdisposal.com/waste-wizard
- [ReCollect](/doc/ics/recollect.md) / recollect.net

<!--End of service section-->

In addition, users reported that the following service providers are working:

### Sweden

- [NSR Nordvästra Skåne](https://nsr.se/privat/allt-om-din-sophamtning/nar-toms-mitt-karl/tomningskalender/)

### Switzerland

- [Münsingen BE](/doc/ics/muensingen_ch.md)

### United States of America

- [ReCollect.net](https://recollect.net) ([Notes](#recollect))
- [Western Disposal Residential (Colorado)](https://www.westerndisposal.com/residential/) (Unofficial, [Notes](#western-disposal-colorado))

***

## Configuration via configuration.yaml

```yaml
waste_collection_schedule:
  sources:
    - name: ics
      args:
        url: URL
        file: FILE
        offset: OFFSET
        method: METHOD
        params: PARAMS
        year_field: YEAR_FIELD
        regex: REGEX
        split_at: SPLIT_AT
        version: 2
        verify_ssl: VERIFY_SSL
        headers: HEADERS
        title_template: "{{date.summary}}"
```

### Configuration Variables

**url**  
*(string) (optional)*

URL to ICS / iCal file. File will be downloaded using a HTTP GET request.

If the original url contains the current year (4 digits including century), this can be replaced by the wildcard `{%Y}` (see example below).

You have to specify either `url` or `file`!

**file**  
*(string) (optional)*

Local ICS / iCal file name. Can be used instead of `url` for local files.

You have to specify either `url` or `file`!

Notes:

- Some users have reported that on their installation, only local files below the folder `config/www` are accessible by the system. Therefore place the ics file there.
- If you are using relative paths (like in the example below), the path depends on which working directory your Home Assistant instance is running on. And this might depend on the installation method (core vs supervisor vs OS vs ...). Therefore check the log output, it tells you the current working directory.

  This example should work for HAOS based installations:

  ```yaml
  # file location: config/www/calendar.ics
  waste_collection_schedule:
    sources:
      - name: ics
        args:
          file: "www/calendar.ics"
  ```

**offset**  
*(int) (optional, default: `0`)*

Offset in days which will be added to every start time. Can be used if the start time of the events in the ICS file are ahead of the actual date.

**method**  
*(string) (optional, default: `GET`)*

Method to send the URL `params`.

Need to be `GET` or `POST`.

**params**  
*(dict) (optional, default: None)*

Dictionary, list of tuples or bytes to send in the query string for the HTTP request.

This gets

- urlencoded and either attached to the raw URL when GET method is used.
- send with `Content-Type: application/x-www-form-urlencoded` and an automatically generated `Content-Length` header as POST method HTTP body.

Only used if `url` is specified, not used for `file`.

**year_field**  
*(string) (optional, default: None)*

Field in params dictionary to be replaced with current year (4 digits including century).

**regex**  
*(string) (optional, default: None)*

Regular expression used to remove needless text from collection types.

See also example below.

**split_at**  
*(string) (optional, default: None)*

Delimiter to split event summary into individual collection types. If your service puts multiple collections types which occur at the same day into a single event, this option can be used to separate the collection types again.

**version**  
*(integer) (optional, default: 2)*

Selects the underlying ICS file parser:

- version: 1 uses `recurring_ical_events`
- version: 2 uses `icalevents`

**verify_ssl**  
*(boolean) (optional, default: True)*

Allows do disable SSL certificate checks in case the HTTPS server of your service provider is misconfigured and therefore doesn't send intermediate certificates. Unlike browsers, python doesn't support automatic fetching of missing intermediates.

Set this option to `False` if you see the following warning in the logs:

`[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate`.

**headers**  
*(dict) (optional, default: empty dict)*

Add custom headers to HTTP request, e.g. `referer`. By default, the `user-agent` is already set to `Mozilla/5.0 (Windows NT 10.0; Win64; x64)`.

See also [example](#custom-headers) below.

**title_template**  
*(str) (optional, default: `{{date.summary}}`)*

template for the event title. `date` is the event object depending on the selected ICS file parser version.

## Examples and Notes

***

### Local file

```yaml
waste_collection_schedule:
  sources:
    - name: ics
      args:
        file: "test.ics"
```

***

### Custom Headers

```yaml
waste_collection_schedule:
  sources:
    - name: ics
      args:
        url: "https://abc.com"
        headers:
          referer: special-referer
```

***

### Western Disposal Colorado

*Unofficial calendar* maintained by burkemw3@gmail.com

[online calendar view](https://calendar.google.com/calendar/embed?src=gn2i5lqgobo5deb6p7j69l9aq8%40group.calendar.google.com&ctz=America%2FDenver)

```yaml
sensor:
  - platform: waste_collection_schedule
    name: Trash Recycling # whatever you want the UI to show. Consider adding a similar prefix for both sensors so they get sorted together, "Trash" in this case
    types:
      - Recycling # matches alias in waste_collection_schedule below
  - platform: waste_collection_schedule
    name: Trash Compost
    types:
      - Compost

waste_collection_schedule:
  sources:
    - name: ics
      args:
        url: https://calendar.google.com/calendar/ical/gn2i5lqgobo5deb6p7j69l9aq8%40group.calendar.google.com/public/basic.ics
      customize:
        - type: Wednesday E Compost # from calendar event name
          alias: Compost # matches type in sensor configuration above
        - type: Wednesday E Recycling
          alias: Recycling
```

***

### Regular Expression

```yaml
waste_collection_schedule:
  sources:
    - name: ics
      args:
        file: waste.ics
        regex: "Abfuhr: (.*)"
```

Removes the needless prefix "Abfuhr: " from the waste collection type.

***

### FES Frankfurt

```yaml
waste_collection_schedule:
  sources:
    - name: ics
      args:
        url: https://www.fes-frankfurt.de/abfallkalender/<your-id>.ics
        split_at: " \/ "
        regex: "(.*)\\s+\\|"
```

***

### Abfallwirtschaftsbetrieb Ilm-Kreis

Go to the [service provider website](https://aik.ilm-kreis.de/Abfuhrtermine/) and select location and street. Selection of desired waste types is optional. Afterwards an iCal calendar export is provided. Download it and find the download URL. Some parameters of the URL can be omitted. (e.g. `kat`, `ArtID`, `alarm`)

Important: The base url of the provider's website `https://aik.ilm-kreis.de` needs to be set as a [custom header](#custom-headers) `referer`. Otherwise you'll get an HTTP 403 error.

```yaml
waste_collection_schedule:
  sources:
    - name: ics
      args:
        url: "https://aik.ilm-kreis.de/output/options.php?ModID=48&call=ical&=&ArtID[0]=1.1&ArtID[1]=1.4&ArtID[2]=1.2&pois=3053.562&kat=1,&alarm=0"
        headers:
          referer: "https://aik.ilm-kreis.de"
      calendar_title: Abfuhrtermine Witzleben
```
